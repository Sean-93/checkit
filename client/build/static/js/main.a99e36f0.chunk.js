(this["webpackJsonpcheckit-app"]=this["webpackJsonpcheckit-app"]||[]).push([[0],{105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},109:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),l=n.n(c),o=n(9),u=n.n(o),i=n(16),s=n(8),m=n(40),p=n(62),f=function(){return window.history.replaceState({},document.title,window.location.pathname)},d=r.a.createContext(),h=function(){return Object(a.useContext)(d)},g=function(e){var t=e.children,n=e.onRedirectCallback,c=void 0===n?f:n,l=Object(m.a)(e,["children","onRedirectCallback"]),o=Object(a.useState)(),h=Object(s.a)(o,2),g=h[0],E=h[1],b=Object(a.useState)(),k=Object(s.a)(b,2),v=k[0],x=k[1],w=Object(a.useState)(),y=Object(s.a)(w,2),O=y[0],j=y[1],C=Object(a.useState)(!0),S=Object(s.a)(C,2),I=S[0],P=S[1],R=Object(a.useState)(!1),T=Object(s.a)(R,2),U=T[0],W=T[1];Object(a.useEffect)((function(){(function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(l);case 2:if(t=e.sent,j(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,c(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(r=e.sent,E(r),!r){e.next=19;break}return e.next=17,t.getUser();case 17:o=e.sent,x(o);case 19:P(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var L=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},W(!0),e.prev=2,e.next=5,O.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,W(!1),e.finish(10);case 13:return e.next=15,O.getUser();case 15:n=e.sent,x(n),E(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.next=3,O.handleRedirectCallback();case 3:return e.next=5,O.getUser();case 5:t=e.sent,P(!1),E(!0),x(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(d.Provider,{value:{isAuthenticated:g,user:v,loading:I,popupOpen:U,loginWithPopup:L,handleRedirectCallback:A,getIdTokenClaims:function(){return O.getIdTokenClaims.apply(O,arguments)},loginWithRedirect:function(){return O.loginWithRedirect.apply(O,arguments)},getTokenSilently:function(){return O.getTokenSilently.apply(O,arguments)},getTokenWithPopup:function(){return O.getTokenWithPopup.apply(O,arguments)},logout:function(){return O.logout.apply(O,arguments)}}},t)},E=n(22),b=n(111),k=n(112),v=n(67),x=n(41),w=n(116),y=n(26),O=n(63),j=n(115),C=n(29),S=n(113),I=n(114);var P=n(25),R=n.n(P),T=function(){return console.log("API getCheckits"),R.a.get("/api/checkit")},U=function(e){return R.a.post("/api/checkit/create",e)};var W=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)({}),u=Object(s.a)(o,2),i=u[0],m=u[1],p=Object(a.useState)(""),f=Object(s.a)(p,2);function d(e){var t=e.target,n=t.name,a=t.value;m(Object(O.a)({},i,Object(y.a)({},n,a)))}f[0],f[1];var h=function(){return l(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a.Link,{onClick:function(){return l(!0)},style:{fontSize:"20px"}}," ","PostIt"),r.a.createElement(S.a,{show:c,onHide:h},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,null,"Make a PostIt")),r.a.createElement(S.a.Body,null,r.a.createElement(I.a,null,r.a.createElement(I.a.Group,{controlId:"exampleForm.ControlTextarea1"},r.a.createElement(I.a.Label,null,"Link:"),r.a.createElement(I.a.Control,{required:!0,onChange:d,value:i.url,name:"url",type:"text",placeholder:"Enter a Link"}),r.a.createElement("br",null),r.a.createElement(I.a.Label,null,"Comment:"),r.a.createElement(I.a.Control,{required:!0,onChange:d,value:i.comment,as:"textarea",name:"comment",rows:"3",placeholder:"Enter a Comment"})))),r.a.createElement(S.a.Footer,null,r.a.createElement(x.a,{variant:"outline-primary",onClick:h},"Close"),r.a.createElement(x.a,{variant:"primary",onClick:function(){i.url&&i.comment&&U({url:i.url,comment:i.comment}).then((function(e){return console.log("result")})).catch((function(e){return console.log(e)})),h()}},"Post"))))},L=function(e){console.log("props are here:",e);var t=h(),n=t.isAuthenticated,a=t.loginWithRedirect,c=t.logout;return r.a.createElement(r.a.Fragment,null,!n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{style:{marginTop:"100px",LineHeight:"5px",width:"50%",padding:"20px",borderRadius:"10px",backgroundColor:"rgba(254, 254, 254, 0.55)",textAlign:"center"}},r.a.createElement("h2",{style:{color:"white",textShadow:"4px 3px 3px black"}},"What's CheckIt?"),r.a.createElement("hr",null),r.a.createElement("p",null,"CheckIt is app that you are allowed to post any link that you desire and see where it takes you. It is all fun and just makes you surf new things on the web. The links are rated in three different catergories:"," ",r.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"USEFUL"),","," ",r.a.createElement("span",{style:{color:"dodgerBlue",fontWeight:"bold"}},"INTERESTING"),", and"," ",r.a.createElement("span",{style:{color:"yellow",fontWeight:"bold"}},"UNUSUAL"),". Come check it out!"),r.a.createElement(k.a,null,r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"outline-primary",onClick:function(){return a({})},size:"lg",block:!0},"Login")),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"outline-primary",onClick:function(){return a({})},size:"lg",block:!0},"Signup"))))),r.a.createElement(w.a,{style:{marginBottom:"60px",height:"80px",textShadow:"3px 4px 4px #0575e6",boxShadow:"10px 10px 10px 10px white"},expand:"lg",variant:"light",bg:"white"},r.a.createElement(b.a,null,n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{onClick:function(){return c()},style:{fontSize:"20px"}},"Log out")),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{to:"/profile",style:{fontSize:"60px",color:"#00f260"}},"CheckIt"),r.a.createElement(E.a,{component:W},"PostIt"),r.a.createElement(E.a,{to:"/external-api"})))))},A=n(23);n(105);var F=function(e){return r.a.createElement("div",{className:"wrapper"},e.children)};n(106);var z=function(e){console.log(e);var t=e.created,n=new Date(t).toLocaleString();return r.a.createElement(C.a,{style:{width:"20rem"}},r.a.createElement(C.a.Body,null,r.a.createElement(C.a.Text,null,r.a.createElement("p",null,n),r.a.createElement("p",null,r.a.createElement("strong",null,"Submitted by:")," ",e.username),r.a.createElement("p",null,r.a.createElement("strong",null,"Comments:")," ",e.comments)),r.a.createElement(C.a.Link,{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.url)),r.a.createElement(C.a.Footer,null,r.a.createElement(k.a,null,r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"outline-success",size:"sm",onClick:function(){return e.incrementCount(e.id,"use")}},"Useful")," ",r.a.createElement("span",null,e.useful)),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"outline-primary",size:"sm",onClick:function(){return e.incrementCount(e.id,"int")}},"Interesting")," ",r.a.createElement("span",null,e.interesting)),r.a.createElement(v.a,null,r.a.createElement(x.a,{variant:"outline-warning",size:"sm",onClick:function(){return e.incrementCount(e.id,"unu")}},"Unusual")," ",r.a.createElement("span",null,e.unusual))," "))," ")};function N(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)}var B=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],l=n[1];function o(){console.log("loadCheckits"),T().then((function(e){return l(e.data)})).catch((function(e){return console.log(e)}))}Object(a.useEffect)((function(){o()}),[]);var m=function(){var e=Object(i.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("key=",t," type=",n),e.next=3,c.filter((function(e){if(e._id===t)return e}));case 3:a=e.sent,r=a[0],console.log(r),e.t0=n,e.next="use"===e.t0?9:"int"===e.t0?12:"unu"===e.t0?15:18;break;case 9:return r.useful+=1,r.totalVotes+=1,e.abrupt("break",18);case 12:return r.interesting+=1,r.totalVotes+=1,e.abrupt("break",18);case 15:return r.unusual+=1,r.totalVotes+=1,e.abrupt("break",18);case 18:R.a.put("/api/checkit/".concat(t),{totalVotes:r.totalVotes,useful:r.useful,interesting:r.interesting,unusual:r.unusual}).then((function(e){console.log(e),o()})).catch((function(e){return console.log(e)}));case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{fluid:!0},c.length?r.a.createElement(F,null,c.map((function(e){return r.a.createElement(z,{key:e._id,id:e._id,incrementCount:m,username:e.username,created:e.created,comments:e.comments,url:e.url,useful:e.useful,interesting:e.interesting,unusual:e.unusual})}))):r.a.createElement("h3",null,"No Results to Display")))},_=n(10),V=Object(_.a)(),J=function(e){var t=e.component,n=e.path,c=Object(m.a)(e,["component","path"]),l=h(),o=l.loading,s=l.isAuthenticated,p=l.loginWithRedirect;Object(a.useEffect)((function(){o||s||function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({appState:{targetUrl:window.location.pathname}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[o,s,p,n]);return r.a.createElement(A.a,Object.assign({path:n,render:function(e){return!0===s?r.a.createElement(t,e):null}},c))},H=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(""),o=Object(s.a)(l,2),m=o[0],p=o[1],f=h().getTokenSilently,d=function(){var e=Object(i.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f();case 3:return t=e.sent,e.next=6,fetch("/api/external",{headers:{Authorization:"Bearer ".concat(t)}});case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,c(!0),p(a),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"External API"),r.a.createElement("button",{onClick:d},"Ping API"),n&&r.a.createElement("code",null,JSON.stringify(m,null,2)))};n(107);var q=function(){var e=h().user;return console.log("app props user",e),r.a.createElement("div",{className:"App"},r.a.createElement(A.b,{history:V},r.a.createElement("header",null,r.a.createElement(L,{user:e})),r.a.createElement(A.c,null,r.a.createElement(J,{path:["/","/profile"],component:B}),r.a.createElement(J,{path:"/external-api",component:H}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=n(42);n(108);l.a.render(r.a.createElement(g,{domain:D.domain,client_id:D.clientId,redirect_uri:window.location.origin,audience:D.audience,onRedirectCallback:function(e){V.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},42:function(e){e.exports=JSON.parse('{"domain":"dev-po2p13yk.auth0.com","clientId":"0MEeCl24f1ZwRlgvmZzih0oEUc4tPgwt","audience":"https://postit-api-endpoin/"}')},71:function(e,t,n){e.exports=n(109)}},[[71,1,2]]]);
//# sourceMappingURL=main.a99e36f0.chunk.js.map